<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details</title>
    <link rel="stylesheet" href="/customer-site/index.css" />
</head>

<body>
    <h2 id="productName"></h2>
    <div id="productDetails"></div>


    <!-- Firebase & Product Logic -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js"; import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js"; const firebaseConfig = { apiKey: "AIzaSyCkY7eaJEpf3zq6Nn3kai1QsruRlbank7E",
        authDomain: "bharath-storage.firebaseapp.com", projectId: "bharath-storage", storageBucket: "bharath-storage.appspot.com", messagingSenderId: "885867111825", appId: "1:885867111825:web:a933ba695b17aec7f4a630", measurementId: "G-G4Z272DVWR" };
        const app = initializeApp(firebaseConfig); const db = getFirestore(app); const params = new URLSearchParams(window.location.search); const productId = params.get("id"); async function loadProduct() { if (!productId) { document.getElementById("productDetails").innerHTML
        = "Product ID not found."; return; } const docRef = doc(db, "products", productId); const docSnap = await getDoc(docRef); if (docSnap.exists()) { const data = docSnap.data(); document.getElementById("productName").innerText = data.name; document.getElementById("productDetails").innerHTML
        = `
        <img src="${data.imageURL}" alt="${data.name}" width="300"><br>
        <p><strong>Details:</strong> ${data.details}</p>
        <p><strong>Price:</strong> â‚¹${data.price}</p>
        <p><strong>Stock:</strong> ${data.stock}</p>
        <button onclick="addToCart('${productId}')">Add to Cart</button>
        <button onclick="buyNow('${productId}')">Buy Now</button> `; } else { document.getElementById("productDetails").innerText = "Product not found."; } } // Add to Cart Logic window.addToCart = (id) => { localStorage.setItem("cartProductId", id);
        window.location.href = "cart.html"; // Buy Now Logic window.buyNow = (id) => { localStorage.setItem("buyNowProductId", id); window.location.href = "checkout.html"; }; // Run the product loader loadProduct();
    </script>

</body>

</html>
